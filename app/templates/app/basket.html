{% extends "app/main.html" %}
{% block content %}
    {% verbatim %}
    <div ng-controller="basketController as basket" ng-init="getBasketProducts()" class="ng-cloak">
        <h1 class="alert alert-primary text-center"><a href="/">B A S K E T</a></h1>
        <div class="container" ng-hide="loading">
            <table class="table">
                <thead>
                <tr>
                    <th>Product</th>
                    <th class="text-center">Quantity</th>
                    <th class="text-center">Remove</th>
                    <th class="text-center">Price</th>
                </tr>
                </thead>
                <tr ng-repeat="basketProduct in basketProducts">
                    <td>
                        <div class="col-sm-3">
                            <img src="{{ '/' + basketProduct.product.photo }}" class="img-responsive img-circle" style="max-height: 250px;">
                        </div>
                        <div class="col-sm-9">
                            <p class="lead">{{ basketProduct.product.name }}</p>
                            <p class="lead">£{{ basketProduct.product.price }}</p>
                        </div>
                    </td>
                    <td class="text-center">
                        <div class="col-sm-4">
                            <button class="btn btn-danger" ng-click="addProduct(basketProduct.id, basketProduct.product.name)"><i class="fa fa-minus"></i></button>
                        </div>
                        <div class="col-sm-4">
                            <p class="lead">{{ basketProduct.quantity }}</p>
                        </div>
                        <div class="col-sm-4">
                            <button class="btn btn-danger" ng-click="removeProduct(basketProduct.id, basketProduct.product.name)"><i class="fa fa-plus"></i></button>
                        </div>
                    </td>
                    <td class="text-center">
                        <button class="btn btn-danger" ng-click="deleteProduct(basketProduct.id, basketProduct.product.name)"><i class="fa fa-times"></i></button>
                    </td>
                    <td class="text-center">
                        <p class="lead">£{{ basketProduct.product.price * basketProduct.quantity | number:2 }}</p>
                    </td>
                </tr>
                <tr>

                </tr>
            </table>
            <br/>
            <div class="container" ng-show="isBasketEmpty()">
                <p class="lead text-center">
                    <i class="fa fa-frown-o"></i><br/>
                    Your basket is empty.
                </p>
            </div>
        </div>
        <div class="container" ng-show="loading">
            <div class="loader">Loading...</div>
        </div>
    </div>
    {% endverbatim %}
{% endblock %}